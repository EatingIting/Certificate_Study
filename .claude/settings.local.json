{
  "permissions": {
    "allow": [
      "Bash(git checkout:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\n무한 재접속 스피너 버그 수정\n\n재접속이 완료된 후에도 스피너가 무한 반복되는 문제를 해결했습니다.\n\n주요 변경사항:\n1. reconnectCompletedTimeRef 추가: 재접속 완료 시간을 기록하여 1초 동안 다시 재접속 상태로 전환되지 않도록 방지\n2. isOffline 상태에서 중복 추가 방지: 최근 1초 내에 재접속이 완료된 경우 reconnectHistoryRef에 다시 추가하지 않음\n3. reconnectStartedAt 명시적 설정: 재접속 상태인 모든 사용자에 대해 타이머 시작 시간을 설정하여 800ms 이상 경과 후 종료되도록 개선\n4. 타이머 로직 개선: 800ms 경과 후 또는 스트림 복구 후 완료 시간을 reconnectCompletedTimeRef에 기록\n\n근본 원인 분석:\n- 서버에서 계속 온라인 상태가 false인 사용자를 USERS_UPDATE로 전송\n- reconnectHistoryRef가 제대로 관리되지 않아 hasReconnectHistory가 계속 true로 유지\n- 타이머에서 reconnectHistoryRef를 제거해도 다음 서버 업데이트에서 다시 추가되는 무한 루프 발생\n\nCo-Authored-By: Claude Haiku 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(curl:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(if exist \"node_modules\\\\.cache\" rmdir /s /q \"node_modules\\\\.cache\")",
      "Bash(npm uninstall:*)",
      "Bash(npm install:*)"
    ]
  }
}
