.calPage {
    --primary: #97c793;
    --primary-light: #e9fadc;
    --primary-soft: #a5dea0;

    --border: #e6eee1;
    --muted: #6b7280;
    --text: #1f2937;
}

.calHead {
    margin-bottom: 14px;
}

.calGrid {
    display: grid;
    grid-template-columns: 1.4fr 0.6fr;
    gap: 16px;
    align-items: stretch;
    min-height: 720px;
}

@media (max-width: 980px) {
    .calGrid {
        grid-template-columns: 1fr;
        min-height: unset;
    }
}

.calPage .card {
    border-color: var(--border);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.calCard {
    height: 100%;
    min-width: 0;
    display: flex;
    flex-direction: column;
}

/* 오른쪽 리스트는 내부만 스크롤 */
.calListCard .calListBody {
    flex: 1;
    min-height: 0;
    overflow: auto;
    padding: 12px 14px;
}

/* 오른쪽 패널 타이틀 */
.calPage .cardTitle {
    color: var(--text);
    border-bottom: 1px solid var(--primary-light);
}

.calPage .calListTitle {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    letter-spacing: -0.2px;
    font-size: 18px;
    font-weight: 900;
    padding: 14px 16px;
}

.calShowAllBtn {
    font-size: 12px;
    font-weight: 800;
    color: var(--primary);
    background: var(--primary-light);
    border: 1px solid var(--primary-soft);
    border-radius: 8px;
    padding: 4px 10px;
    cursor: pointer;
}

.calShowAllBtn:hover {
    background: var(--primary-soft);
    color: #2f6a2f;
}

/* =========================
   FullCalendar 레이아웃/툴바
========================= */

.calCard .fc {
    flex: 1;
    min-height: 0;
}

.fc .fc-header-toolbar {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    margin-bottom: 12px;
}

.fc .fc-toolbar-chunk:nth-child(1) {
    justify-self: start;
}

.fc .fc-toolbar-chunk:nth-child(2) {
    justify-self: center;
    position: relative;
}

.fc .fc-toolbar-chunk:nth-child(3) {
    justify-self: end;
}

.calCalendarCard .fc .fc-header-toolbar {
    min-height: 56px;
    padding: 10px 0;
    margin-bottom: 12px;
}

.fc .fc-myToday-button {
    height: 30px;
    padding: 0 16px;
    min-width: 54px;
    white-space: nowrap;

    border: 1px solid var(--border);
    border-radius: 999px;
    background: #fff;

    color: var(--text);
    font-size: 12px;
    font-weight: 900;
    cursor: pointer;
}

.fc .fc-myToday-button:hover {
    background: var(--primary-light);
}

.fc .fc-myToday-button:focus,
.fc .fc-myToday-button:active {
    box-shadow: none;
}

.fc .fc-toolbar-chunk:nth-child(2) .fc-myToday-button {
    position: absolute;
    left: calc(100% + 8px);
    top: 50%;
    transform: translateY(-50%);
    z-index: 5;
}

.fc .fc-toolbar-chunk:nth-child(3) .fc-next-button {
    margin-left: 8px;
}

/* =========================
   날짜 숫자(왼쪽 위) + 스터디 회차(오른쪽)
========================= */

/* FullCalendar 기본 row-reverse/float 제거 + 왼쪽 고정 */
.calCalendarCard .fc .fc-daygrid-day-top {
    flex-direction: row !important;
    justify-content: flex-start !important;
}

.calCalendarCard .fc .fc-daygrid-day-number {
    float: none !important;
    display: flex !important;
    align-items: center !important;
    justify-content: flex-start !important;
    gap: 6px !important;
    margin-left: 0 !important;
    margin-right: auto !important;
}

/* 우리가 렌더링한 상단 줄 */
.calDayTopRow {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: 6px;
    padding: 4px 6px 0 6px;
}

.calDayNum {
    font-weight: 900;
    font-size: 12px;
    line-height: 1;
}

.calDayStudyRounds {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 2px;
}

.calDayStudyRoundWrap {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0;
}

.calDayStudyTime {
    font-size: 11px;
    font-weight: 700;
    color: var(--muted);
    line-height: 1.1;
    margin-top: 0;
}

.calDayStudyRound {
    font-size: 11px;
    font-weight: 900;
    line-height: 1.1;

    padding: 2px 6px;
    border-radius: 999px;

    background: var(--primary-light);
    color: #2f6a2f;
    border: 1px solid var(--primary-soft);

    white-space: nowrap;
}

/* 주말 숫자 색 */
.fc .fc-day-sun .calDayNum {
    color: #ef4444;
}

.fc .fc-day-sat .calDayNum {
    color: #2563eb;
}

/* =========================
   이벤트 영역: 위랑 너무 붙어서 살짝 아래로
========================= */
.calCalendarCard .fc .fc-daygrid-day-events {
    margin-top: 6px;
}

/* =========================
   이벤트 스타일
========================= */

.calEvent {
    border-radius: 8px !important;
    border: none !important;
    padding: 2px 6px !important;
    font-size: 12px !important;
    font-weight: 900 !important;
}

.calEvent.reg {
    background: #e9fadc !important;
    color: #2f6a2f !important;
}

.calEvent.exam {
    background: #97c793 !important;
    color: #ffffff !important;
}

.calEvent.result {
    background: #a5dea0 !important;
    color: #1f2937 !important;
}

.calEvent.other {
    background: #eef5ec !important;
    color: #374151 !important;
}

/* 스터디 이벤트 클래스는 남아있지만, 달력에서는 숨김 처리 */
.calEvent.study {
    background: var(--primary) !important;
    color: #ffffff !important;
}

/* ✅ 달력에서 스터디 이벤트 바 숨김 */
.calCalendarCard .fc .fc-daygrid-event.calEvent.study {
    display: none !important;
}

/* 주말 헤더/기본 숫자 색 */
.fc .fc-day-sun .fc-daygrid-day-number,
.fc .fc-col-header-cell.fc-day-sun {
    color: #ef4444;
}

.fc .fc-day-sat .fc-daygrid-day-number,
.fc .fc-col-header-cell.fc-day-sat {
    color: #2563eb;
}

/* 클릭해서 선택한 날짜 셀 강조 */
.calPage .fc-daygrid-day.calDaySelected {
    background: rgba(151, 199, 147, 0.15);
}

.calPage .fc-daygrid-day.calDaySelected .fc-daygrid-day-frame {
    border-radius: 8px;
}

/* =========================
   +N more 클릭 시 팝오버 (더 예쁘게)
========================= */
.calPage .fc-popover,
.calPage .fc .fc-popover,
.calPage .fc-more-popover {
    border-radius: 12px;
    border: 1px solid var(--border);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    overflow: hidden;
    z-index: 1000;
}

.calPage .fc-popover-header,
.calPage .fc .fc-popover-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    padding: 10px 14px;
    background: var(--primary-light);
    border-bottom: 1px solid var(--primary-soft);
    font-size: 13px;
    font-weight: 900;
    color: #2f6a2f;
}

.calPage .fc-popover-title,
.calPage .fc .fc-popover-title {
    font-size: 13px;
    font-weight: 900;
    color: #2f6a2f;
}

.calPage .fc-popover-close,
.calPage .fc .fc-popover-close {
    width: 24px;
    height: 24px;
    padding: 0;
    border: none;
    border-radius: 6px;
    background: rgba(0, 0, 0, 0.06);
    color: #2f6a2f;
    font-size: 14px;
    line-height: 1;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.calPage .fc-popover-close:hover,
.calPage .fc .fc-popover-close:hover {
    background: rgba(0, 0, 0, 0.1);
}

.calPage .fc-popover-body,
.calPage .fc .fc-popover-body {
    padding: 10px 12px;
    background: #fff;
    max-height: 280px;
    overflow-y: auto;
}

.calPage .fc-popover-body .fc-daygrid-event,
.calPage .fc .fc-popover-body .fc-daygrid-event {
    margin-bottom: 6px;
    border-radius: 8px;
    padding: 6px 10px;
    font-size: 13px;
    font-weight: 800;
    border: none;
    color: #1f2937;
    background: #f6faf3;
}

/* 팝오버에서 왼쪽 날짜(30)만 숨김 - 일정 제목만 보이게 */
.calPage .fc-popover-body .fc-event-time,
.calPage .fc .fc-popover-body .fc-event-time {
    display: none;
}

/* 팝오버 안 일정 글씨 확실히 보이게 (스터디·일반 일정 모두) */
.calPage .fc-popover-body .fc-daygrid-event,
.calPage .fc .fc-popover-body .fc-daygrid-event,
.calPage .fc-popover-body .fc-daygrid-event .fc-event-main,
.calPage .fc .fc-popover-body .fc-daygrid-event .fc-event-main,
.calPage .fc-popover-body .fc-daygrid-event .fc-event-main-frame,
.calPage .fc .fc-popover-body .fc-daygrid-event .fc-event-title-container,
.calPage .fc-popover-body .fc-daygrid-event .fc-event-title,
.calPage .fc .fc-popover-body .fc-daygrid-event .fc-event-title * {
    color: #1f2937 !important;
    font-size: 13px !important;
    font-weight: 800;
}

/* HSK 시험 등 일반 일정도 팝업에서 글씨 보이게 (이벤트별 흰색 덮어씀) */
.calPage .fc-popover-body .fc-daygrid-event *,
.calPage .fc .fc-popover-body .fc-daygrid-event * {
    color: #1f2937 !important;
}

.calPage .fc-popover-body .fc-daygrid-event:last-child,
.calPage .fc .fc-popover-body .fc-daygrid-event:last-child {
    margin-bottom: 0;
}

/* +N more 링크 자체 스타일 */
.calPage .fc-daygrid-more-link,
.calPage .fc .fc-daygrid-more-link {
    font-size: 11px;
    font-weight: 800;
    color: var(--primary);
    padding: 2px 8px;
    border-radius: 8px;
    background: var(--primary-light);
}

.calPage .fc-daygrid-more-link:hover,
.calPage .fc .fc-daygrid-more-link:hover {
    background: var(--primary-soft);
    color: #2f6a2f;
}

/* =========================
   오른쪽 리스트
========================= */

.calEmpty {
    font-size: 13px;
    color: var(--muted);
    font-weight: 700;
    margin-top: 6px;
}

.calItem {
    padding: 12px;
    border-radius: 12px;
    background: #f6faf3;
    border: 1px solid var(--border);
}

.calItem + .calItem {
    margin-top: 10px;
}

.calItemTop {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
}

.calItemTitle {
    margin-top: 6px;
    font-size: 14px;
    font-weight: 800;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.calDate {
    font-size: 12px;
    color: var(--muted);
    font-weight: 700;
}

.calBadge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 900;
}

.calBadge.REGISTRATION {
    background: #e9fadc;
    color: #2f6a2f;
    border: 1px solid #a5dea0;
}

.calBadge.EXAM {
    background: #97c793;
    color: #ffffff;
}

.calBadge.RESULT {
    background: #a5dea0;
    color: #1f2937;
}

.calBadge.OTHER {
    background: #eef5ec;
    color: #374151;
}

/* 스터디 뱃지는 연한 배경 + 초록 글씨 */
.calBadge.STUDY {
    background: var(--primary-light);
    color: #2f6a2f;
    border: 1px solid var(--primary-soft);
}

/* 리스트 설명(최대 2줄) */
.calItemDesc {
    margin-top: 6px;
    font-size: 12px;
    color: var(--muted);
    font-weight: 700;

    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* 리스트 헤더 */
.calListHead {
    position: relative;
}

/* 헤더 1행: 제목(왼쪽) + 스터디/일정 추가 버튼(오른쪽) */
.calListHeadRow {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 14px 16px 12px;
    border-bottom: 1px solid var(--primary-light);
}

.calListHeadRow .calListTitle {
    padding: 0;
    flex: 1;
    min-width: 0;
}

/* 전체 보기: 날짜 선택 시 제목 아래 별도 줄에 배치 (가려지지 않음) */
.calListShowAllRow {
    padding: 10px 16px 12px;
    border-bottom: 1px solid var(--primary-light);
}

/* 버튼 2개 */
.calListActions {
    display: flex;
    align-items: center;
    gap: 8px;
}

/* 일정 추가: 진한 초록 배경 + 흰 글씨 */
.calAddBtn {
    height: 34px;
    padding: 0 12px;

    border: 1px solid var(--border);
    border-radius: 12px;
    background: var(--primary);

    font-size: 13px;
    font-weight: 900;
    color: #ffffff;
    cursor: pointer;
}

.calAddBtn:hover {
    filter: brightness(0.97);
}

/* 스터디 일정 추가: 연한 초록 배경 + 초록 글씨 */
.calStudyBtn {
    height: 34px;
    padding: 0 12px;

    border: 1px solid var(--primary-soft);
    border-radius: 12px;
    background: var(--primary-light);

    font-size: 13px;
    font-weight: 900;
    color: #2f6a2f;
    cursor: pointer;
}

.calStudyBtn:hover {
    filter: brightness(0.98);
}

/* 좁은 화면에서 겹침 방지 */
@media (max-width: 520px) {
    .calListActions {
        position: static;
        margin: 8px 16px 0;
        justify-content: flex-end;
        flex-wrap: wrap;
    }

    .calPage .calListTitle {
        padding-bottom: 10px;
    }
}

/* =========================
   리스트 ⋮ 메뉴
========================= */

.calItemRight {
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative;
}

.calKebabBtn {
    width: 32px;
    height: 32px;

    border-radius: 10px;
    border: 1px solid var(--border);
    background: #fff;

    color: #111;
    font-size: 16px;
    font-weight: 900;
    cursor: pointer;
    line-height: 1;
}

.calKebabBtn:hover {
    background: var(--primary-light);
}

.calKebabMenu {
    position: absolute;
    right: 0;
    top: 36px;

    width: 120px;
    background: #fff;

    border: 1px solid var(--border);
    border-radius: 12px;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);

    padding: 6px;
    z-index: 30;
}

.calKebabItem {
    width: 100%;
    height: 34px;

    border: none;
    background: transparent;
    border-radius: 10px;

    font-size: 13px;
    font-weight: 900;
    color: var(--text);

    cursor: pointer;
    text-align: left;
    padding: 0 10px;
}

.calKebabItem:hover {
    background: var(--primary-light);
}

.calKebabDanger {
    color: #ef4444;
}

.calKebabDanger:hover {
    background: rgba(239, 68, 68, 0.10);
}

/* =========================
   모달
========================= */

.calModalOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.35);

    display: flex;
    align-items: center;
    justify-content: center;

    padding: 18px;
    z-index: 9999;
}

.calModal {
    width: min(560px, 100%);
    background: #fff;

    border: 1px solid var(--border);
    border-radius: 16px;
    box-shadow: 0 18px 60px rgba(0, 0, 0, 0.18);

    overflow: hidden;
}

.calModalHead {
    display: flex;
    align-items: center;
    justify-content: space-between;

    padding: 14px 16px;
    border-bottom: 1px solid var(--primary-light);
}

.calModalTitle {
    font-size: 16px;
    font-weight: 900;
    color: var(--text);
}

.calModalClose {
    width: 34px;
    height: 34px;

    border-radius: 10px;
    border: 1px solid var(--border);
    background: #fff;

    cursor: pointer;
    font-weight: 900;
}

.calModalClose:hover {
    background: var(--primary-light);
}

.calModalBody {
    padding: 14px 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.calField {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.calFieldLabel {
    font-size: 12px;
    font-weight: 900;
    color: var(--muted);
}

/* =========================
   입력 요소
========================= */

.calInput,
.calSelect,
.calTextarea,
.calInput[type="date"] {
    font-family: inherit;
    font-weight: 700;
}

.calInput,
.calSelect {
    height: 38px;
    padding: 0 12px;

    border-radius: 12px;
    border: 1px solid var(--border);
    outline: none;

    font-size: 14px;
    color: var(--text);
    background: #fff;
}

.calInput:focus,
.calSelect:focus {
    border-color: var(--primary-soft);
    box-shadow: 0 0 0 3px rgba(165, 222, 160, 0.35);
}

.calInput[type="date"] {
    appearance: none;
    -webkit-appearance: none;
}

.calRow2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

@media (max-width: 520px) {
    .calRow2 {
        grid-template-columns: 1fr;
    }
}

.calTextarea {
    padding: 10px 12px;

    border-radius: 12px;
    border: 1px solid var(--border);
    outline: none;

    font-size: 14px;
    color: var(--text);
    background: #fff;

    resize: none;
}

.calTextarea:focus {
    border-color: var(--primary-soft);
    box-shadow: 0 0 0 3px rgba(165, 222, 160, 0.35);
}

/* =========================
   색상 선택 UI (팔레트 버튼 방식)
========================= */

.calColorRow {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
}

@media (max-width: 520px) {
    .calColorRow {
        grid-template-columns: 1fr;
    }
}

.calColorGroup {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.calColorBtns {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
}

.calColorBtn {
    width: 28px;
    height: 28px;
    border-radius: 999px;
    border: 1px solid var(--border);
    cursor: pointer;
}

.calColorBtn:hover {
    transform: translateY(-1px);
}

.calColorBtn.isActive {
    outline: 3px solid rgba(165, 222, 160, 0.55);
    border-color: var(--primary-soft);
}

.calColorPicker {
    width: 34px;
    height: 34px;
    border-radius: 10px;
    border: 1px solid var(--border);
    padding: 0;
    background: #fff;
    cursor: pointer;
}

.calTextColorBtn {
    height: 34px;
    padding: 0 10px;
    border-radius: 12px;
    border: 1px solid var(--border);
    background: #fff;

    display: inline-flex;
    align-items: center;
    gap: 8px;

    font-size: 13px;
    font-weight: 900;
    color: var(--text);
    cursor: pointer;
}

.calTextColorBtn:hover {
    background: var(--primary-light);
}

.calTextColorBtn.isActive {
    outline: 3px solid rgba(165, 222, 160, 0.55);
    border-color: var(--primary-soft);
}

.calTextColorDot {
    width: 14px;
    height: 14px;
    border-radius: 999px;
    border: 1px solid var(--border);
}

.calColorPreview {
    margin-top: 4px;
}

.calPreviewPill {
    display: inline-flex;
    align-items: center;
    height: 30px;
    padding: 0 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 900;
    border: 1px solid rgba(0, 0, 0, 0.06);
}

/* =========================
   에러/하단 버튼
========================= */

.calError {
    font-size: 13px;
    font-weight: 800;
    color: #ef4444;

    background: rgba(239, 68, 68, 0.08);
    border: 1px solid rgba(239, 68, 68, 0.25);

    padding: 10px 12px;
    border-radius: 12px;
}

.calModalFoot {
    display: flex;
    justify-content: flex-end;
    gap: 10px;

    padding: 14px 16px;
    border-top: 1px solid var(--primary-light);
}

.calBtn {
    height: 38px;
    padding: 0 14px;

    border-radius: 12px;
    border: 1px solid var(--border);

    font-weight: 900;
    cursor: pointer;

    background: #fff;
    color: var(--text);
}

.calBtn:hover {
    background: var(--primary-light);
}

.calBtnPrimary {
    border-color: var(--primary-soft);
    background: var(--primary);
    color: #fff;
}

.calBtnPrimary:hover {
    filter: brightness(0.98);
}

.calBtnGhost {
    background: #fff;
}

.fc .fc-daygrid-day-top {
    flex-direction: row;
}
