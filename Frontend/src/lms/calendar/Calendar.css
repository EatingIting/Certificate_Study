/*
  Calendar (LMS 일정관리)
*/

/* =========================
   1) 페이지 공통 변수/레이아웃
========================= */

.calPage {
    --primary: #97c793;
    --primary-light: #e9fadc;
    --primary-soft: #a5dea0;

    --border: #e6eee1;
    --muted: #6b7280;
    --text: #1f2937;
}

.calHead {
    margin-bottom: 14px;
}

.calGrid {
    display: grid;
    grid-template-columns: 1.15fr 0.85fr;
    gap: 16px;
    align-items: stretch;
    min-height: 640px;
}

@media (max-width: 980px) {
    .calGrid {
        grid-template-columns: 1fr;
        min-height: unset;
    }
}

.calPage .card {
    border-color: var(--border);
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.calCard {
    height: 100%;
    min-width: 0;
    display: flex;
    flex-direction: column;
}

/* 오른쪽 리스트는 내부만 스크롤 */
.calListCard .calListBody {
    flex: 1;
    min-height: 0;
    overflow: auto;
    padding: 12px 14px;
}

/* 오른쪽 패널 타이틀 */
.calPage .cardTitle {
    color: var(--text);
    border-bottom: 1px solid var(--primary-light);
}

.calPage .calListTitle {
    letter-spacing: -0.2px;
    font-size: 18px;
    font-weight: 900;
    padding: 14px 16px;
}

/* =========================
   2) FullCalendar 레이아웃/툴바
========================= */

.calCard .fc {
    flex: 1;
    min-height: 0;
}

/* 툴바를 3칸(grid)으로 정렬 */
.fc .fc-header-toolbar {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    margin-bottom: 12px;
}

.fc .fc-toolbar-chunk:nth-child(1) {
    justify-self: start;
}

.fc .fc-toolbar-chunk:nth-child(2) {
    justify-self: center;
    position: relative; /* 타이틀 기준점 */
}

.fc .fc-toolbar-chunk:nth-child(3) {
    justify-self: end;
}

.calCalendarCard .fc .fc-header-toolbar {
    min-height: 56px;
    padding: 10px 0;
    margin-bottom: 12px;
}

/* 커스텀 today(myToday) 버튼 */
.fc .fc-myToday-button {
    height: 30px;
    padding: 0 16px;
    min-width: 54px;
    white-space: nowrap;

    border: 1px solid var(--border);
    border-radius: 999px;
    background: #fff;

    color: var(--text);
    font-size: 12px;
    font-weight: 900;
    cursor: pointer;
}

.fc .fc-myToday-button:hover {
    background: var(--primary-light);
}

.fc .fc-myToday-button:focus,
.fc .fc-myToday-button:active {
    box-shadow: none;
}

/* today 버튼을 타이틀 바로 오른쪽에 (타이틀 중앙정렬 유지) */
.fc .fc-toolbar-chunk:nth-child(2) .fc-myToday-button {
    position: absolute;
    left: calc(100% + 8px);
    top: 50%;
    transform: translateY(-50%);
    z-index: 5;
}

/* next 버튼 간격 */
.fc .fc-toolbar-chunk:nth-child(3) .fc-next-button {
    margin-left: 8px;
}

/* =========================
   3) FullCalendar - 이벤트/주말/달력 고정(6주)
========================= */

.calEvent {
    border-radius: 8px !important;
    border: none !important;
    padding: 2px 6px !important;
    font-size: 12px !important;
    font-weight: 900 !important;
}

.calEvent.reg {
    background: #e9fadc !important;
    color: #2f6a2f !important;
}

.calEvent.exam {
    background: #97c793 !important;
    color: #ffffff !important;
}

.calEvent.result {
    background: #a5dea0 !important;
    color: #1f2937 !important;
}

.calEvent.other {
    background: #eef5ec !important;
    color: #374151 !important;
}

/* 주말 색상(헤더 + 날짜) */
.fc .fc-day-sun .fc-daygrid-day-number,
.fc .fc-col-header-cell.fc-day-sun {
    color: #ef4444;
}

.fc .fc-day-sat .fc-daygrid-day-number,
.fc .fc-col-header-cell.fc-day-sat {
    color: #2563eb;
}

/* +more 링크 여유 */
.calCalendarCard .fc .fc-daygrid-day-bottom {
    margin-top: 2px;
}

/* 달력 내부 스크롤 방지 + 6주 행 높이 고정 */
.calCalendarCard {
    overflow: hidden;
}

.calCalendarCard .fc,
.calCalendarCard .fc .fc-view-harness,
.calCalendarCard .fc .fc-scrollgrid,
.calCalendarCard .fc .fc-daygrid-body,
.calCalendarCard .fc .fc-daygrid-body table {
    height: 100%;
}

/* 6주 기준으로 각 주(행) 높이 동일 */
.calCalendarCard .fc .fc-daygrid-body tr {
    height: calc(100% / 6);
}

/* 기간 막대가 잘리지 않게 */
.calCalendarCard .fc .fc-daygrid-day-frame,
.calCalendarCard .fc .fc-daygrid-day-events {
    overflow: visible;
}

/* =========================
   4) 오른쪽 일정 리스트
========================= */

.calEmpty {
    font-size: 13px;
    color: var(--muted);
    font-weight: 700;
    margin-top: 6px;
}

.calItem {
    padding: 12px;
    border-radius: 12px;
    background: #f6faf3;
    border: 1px solid var(--border);
}

.calItem + .calItem {
    margin-top: 10px;
}

.calItemTop {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
}

.calItemTitle {
    margin-top: 6px;
    font-size: 14px;
    font-weight: 800;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.calDate {
    font-size: 12px;
    color: var(--muted);
    font-weight: 700;
}

/* 뱃지 */
.calBadge {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 900;
}

.calBadge.REGISTRATION {
    background: #e9fadc;
    color: #2f6a2f;
    border: 1px solid #a5dea0;
}

.calBadge.EXAM {
    background: #97c793;
    color: #ffffff;
}

.calBadge.RESULT {
    background: #a5dea0;
    color: #1f2937;
}

.calBadge.OTHER {
    background: #eef5ec;
    color: #374151;
}

/* 리스트: 설명(최대 2줄) */
.calItemDesc {
    margin-top: 6px;
    font-size: 12px;
    color: var(--muted);
    font-weight: 700;

    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* 리스트 헤더: 제목 + 버튼 */
.calListHead {
    position: relative;
}

/* 일정 추가 버튼 */
.calAddBtn {
    position: absolute;
    top: 2px;
    right: 12px;

    height: 34px;
    padding: 0 12px;

    border: 1px solid var(--border);
    border-radius: 12px;
    background: #fff;

    font-size: 13px;
    font-weight: 900;
    color: var(--text);
    cursor: pointer;
}

.calAddBtn:hover {
    background: var(--primary-light);
}

/* =========================
   5) 리스트 ⋮ 메뉴(수정/삭제)
========================= */

.calItemRight {
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative;
}

.calKebabBtn {
    width: 32px;
    height: 32px;

    border-radius: 10px;
    border: 1px solid var(--border);
    background: #fff;

    color: #111;
    font-size: 16px;
    font-weight: 900;
    cursor: pointer;
    line-height: 1;
}

.calKebabBtn:hover {
    background: var(--primary-light);
}

.calKebabMenu {
    position: absolute;
    right: 0;
    top: 36px;

    width: 120px;
    background: #fff;

    border: 1px solid var(--border);
    border-radius: 12px;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);

    padding: 6px;
    z-index: 30;
}

.calKebabItem {
    width: 100%;
    height: 34px;

    border: none;
    background: transparent;
    border-radius: 10px;

    font-size: 13px;
    font-weight: 900;
    color: var(--text);

    cursor: pointer;
    text-align: left;
    padding: 0 10px;
}

.calKebabItem:hover {
    background: var(--primary-light);
}

.calKebabDanger {
    color: #ef4444;
}

.calKebabDanger:hover {
    background: rgba(239, 68, 68, 0.10);
}

/* =========================
   6) 모달(일정 추가/수정)
========================= */

.calModalOverlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.35);

    display: flex;
    align-items: center;
    justify-content: center;

    padding: 18px;
    z-index: 9999;
}

.calModal {
    width: min(560px, 100%);
    background: #fff;

    border: 1px solid var(--border);
    border-radius: 16px;
    box-shadow: 0 18px 60px rgba(0, 0, 0, 0.18);

    overflow: hidden;
}

.calModalHead {
    display: flex;
    align-items: center;
    justify-content: space-between;

    padding: 14px 16px;
    border-bottom: 1px solid var(--primary-light);
}

.calModalTitle {
    font-size: 16px;
    font-weight: 900;
    color: var(--text);
}

.calModalClose {
    width: 34px;
    height: 34px;

    border-radius: 10px;
    border: 1px solid var(--border);
    background: #fff;

    cursor: pointer;
    font-weight: 900;
}

.calModalClose:hover {
    background: var(--primary-light);
}

.calModalBody {
    padding: 14px 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.calField {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.calFieldLabel {
    font-size: 12px;
    font-weight: 900;
    color: var(--muted);
}

/* =========================
   7) 폼 입력 요소 (폰트/스타일 통일)
========================= */

/* 폼 요소 폰트 통일 */
.calInput,
.calSelect,
.calTextarea,
.calInput[type="date"] {
    font-family: inherit;
    font-weight: 700;
}

/* 입력류 공통 */
.calInput,
.calSelect {
    height: 38px;
    padding: 0 12px;

    border-radius: 12px;
    border: 1px solid var(--border);
    outline: none;

    font-size: 14px;
    color: var(--text);
    background: #fff;
}

.calInput:focus,
.calSelect:focus {
    border-color: var(--primary-soft);
    box-shadow: 0 0 0 3px rgba(165, 222, 160, 0.35);
}

/* 날짜 input이 OS 폰트로 튀는 경우 방지(안전장치) */
.calInput[type="date"] {
    appearance: none;
    -webkit-appearance: none;
}

.calRow2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

@media (max-width: 520px) {
    .calRow2 {
        grid-template-columns: 1fr;
    }
}

/* textarea */
.calTextarea {
    padding: 10px 12px;

    border-radius: 12px;
    border: 1px solid var(--border);
    outline: none;

    font-size: 14px;
    color: var(--text);
    background: #fff;

    resize: none;
}

.calTextarea:focus {
    border-color: var(--primary-soft);
    box-shadow: 0 0 0 3px rgba(165, 222, 160, 0.35);
}

/* 색상 input */
.calColor {
    height: 38px;
    width: 64px;
    padding: 0;

    border: 1px solid var(--border);
    border-radius: 12px;
    background: #fff;
}

/* =========================
   8) 글자색 선택 버튼 (검은색/하얀색)
========================= */

.calTextColorRow {
    display: flex;
    gap: 8px;
}

.calTextColorBtn {
    height: 36px;
    padding: 0 12px;

    border-radius: 12px;
    border: 1px solid var(--border);
    background: #fff;

    font-size: 13px;
    font-weight: 900;
    color: var(--text);
    cursor: pointer;
}

.calTextColorBtn:hover {
    background: var(--primary-light);
}

.calTextColorBtn.active {
    border-color: var(--primary-soft);
    box-shadow: 0 0 0 3px rgba(165, 222, 160, 0.35);
}

/* =========================
   9) 모달 하단 버튼/에러
========================= */

.calError {
    font-size: 13px;
    font-weight: 800;
    color: #ef4444;

    background: rgba(239, 68, 68, 0.08);
    border: 1px solid rgba(239, 68, 68, 0.25);

    padding: 10px 12px;
    border-radius: 12px;
}

.calModalFoot {
    display: flex;
    justify-content: flex-end;
    gap: 10px;

    padding: 14px 16px;
    border-top: 1px solid var(--primary-light);
}

.calBtn {
    height: 38px;
    padding: 0 14px;

    border-radius: 12px;
    border: 1px solid var(--border);

    font-weight: 900;
    cursor: pointer;

    background: #fff;
    color: var(--text);
}

.calBtn:hover {
    background: var(--primary-light);
}

.calBtnPrimary {
    border-color: var(--primary-soft);
    background: var(--primary);
    color: #fff;
}

.calBtnPrimary:hover {
    filter: brightness(0.98);
}

.calBtnGhost {
    background: #fff;
}
